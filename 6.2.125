To: vim-dev@vim.org
Subject: Patch 6.2.125
Fcc: outbox
From: Bram Moolenaar <Bram@moolenaar.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
------------

Patch 6.2.125 (after 6.2.107)
Problem:    The "winsock2.h" file isn't always available.
Solution:   Don't include this header file.
Files:	    src/netbeans.c


*** ../vim-6.2.124/src/netbeans.c	Sun Oct 12 16:42:14 2003
--- src/netbeans.c	Tue Oct 14 15:41:00 2003
***************
*** 28,37 ****
  #  include <tchar.h>	/* for _T definition for TRACEn macros */
  # endif
  # include <io.h>
! # include <winsock2.h>
! /* WinSock API is separated from C API
!  * So we can't use read, write, errno...
!  */
  # define sock_errno WSAGetLastError()
  # define ECONNREFUSED WSAECONNREFUSED
  # define sock_write(sd, buf, len) send(sd, buf, len, 0)
--- 28,35 ----
  #  include <tchar.h>	/* for _T definition for TRACEn macros */
  # endif
  # include <io.h>
! /* WinSock API is separated from C API, thus we can't use read(), write(),
!  * errno... */
  # define sock_errno WSAGetLastError()
  # define ECONNREFUSED WSAECONNREFUSED
  # define sock_write(sd, buf, len) send(sd, buf, len, 0)
*** ../vim-6.2.124/src/version.c	Fri Oct 17 12:08:46 2003
--- src/version.c	Fri Oct 17 12:11:48 2003
***************
*** 639,640 ****
--- 639,642 ----
  {   /* Add new patch number below this line */
+ /**/
+     125,
  /**/

-- 
ARTHUR: This new learning amazes me, Sir Bedevere.  Explain again how sheep's
        bladders may be employed to prevent earthquakes.
                 "Monty Python and the Holy Grail" PYTHON (MONTY) PICTURES LTD

 /// Bram Moolenaar -- Bram@Moolenaar.net -- http://www.Moolenaar.net   \\\
///          Creator of Vim - Vi IMproved -- http://www.Vim.org          \\\
\\\              Project leader for A-A-P -- http://www.A-A-P.org        ///
 \\\  Help AIDS victims, buy here: http://ICCF-Holland.org/click1.html  ///
