To: vim-dev@vim.org
Subject: Patch 7.0.017
Fcc: outbox
From: Bram Moolenaar <Bram@moolenaar.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
------------

Patch 7.0.017 (after 7.0.014)
Problem:    Linking gui_xmebw.c fails on Dec Alpha Tru64. (Rolfe)
Solution:   Adjust defines for Motif 1.2 and older.
Files:	    src/gui_xmebw.c


*** ../vim-7.0.016/src/gui_xmebw.c	Fri May 12 19:24:33 2006
--- src/gui_xmebw.c	Sat May 13 12:55:01 2006
***************
*** 47,59 ****
  #include "gui_xmebwp.h"
  
  /* Provide some missing wrappers, which are missed from the LessTif
!  * implementation.
   *
   * We neither use XmeGetPixmapData or _XmGetPixmapData, since with LessTif the
   * pixmap will not appear in it's caches properly. We cache the interresting
   * values in XmEnhancedButtonPart instead ourself.
   */
! #ifdef LESSTIF_VERSION
  # ifndef Lab_IsMenupane
  #  define Lab_IsMenupane(w) (Lab_MenuType(w) == (int)XmMENU_POPUP || \
  		    Lab_MenuType(w) == (int)XmMENU_PULLDOWN)
--- 47,59 ----
  #include "gui_xmebwp.h"
  
  /* Provide some missing wrappers, which are missed from the LessTif
!  * implementation.  Also missing in Motif 1.2 and earlier.
   *
   * We neither use XmeGetPixmapData or _XmGetPixmapData, since with LessTif the
   * pixmap will not appear in it's caches properly. We cache the interresting
   * values in XmEnhancedButtonPart instead ourself.
   */
! #if defined(LESSTIF_VERSION) || (XmVersion <= 1002)
  # ifndef Lab_IsMenupane
  #  define Lab_IsMenupane(w) (Lab_MenuType(w) == (int)XmMENU_POPUP || \
  		    Lab_MenuType(w) == (int)XmMENU_PULLDOWN)
*** ../vim-7.0.016/src/version.c	Sat May 13 09:16:38 2006
--- src/version.c	Sat May 13 13:00:03 2006
***************
*** 668,669 ****
--- 668,671 ----
  {   /* Add new patch number below this line */
+ /**/
+     17,
  /**/

-- 
hundred-and-one symptoms of being an internet addict:
141. You'd rather go to http://www.weather.com/ than look out your window.

 /// Bram Moolenaar -- Bram@Moolenaar.net -- http://www.Moolenaar.net   \\\
///        sponsor Vim, vote for features -- http://www.Vim.org/sponsor/ \\\
\\\        download, build and distribute -- http://www.A-A-P.org        ///
 \\\            help me help AIDS victims -- http://ICCF-Holland.org    ///
