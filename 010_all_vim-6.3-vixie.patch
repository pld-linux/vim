--- runtime/syntax/crontab.vim	2005-08-09 02:20:29.000000000 +0100
+++ runtime/syntax/crontab.vim	2005-07-22 15:32:17.000000000 +0100
@@ -17,25 +17,33 @@
   finish
 endif
 
-syntax match  crontabMin     "^\s*[-0-9/,.*]\+"  nextgroup=crontabHr   skipwhite
-syntax match  crontabHr       "\s[-0-9/,.*]\+"  nextgroup=crontabDay  skipwhite contained
-syntax match  crontabDay      "\s[-0-9/,.*]\+"  nextgroup=crontabMnth skipwhite contained
+syntax match  crontabMin     "\_^[0-9\-\/\,\.]\{}\>\|\*\(/[0-9]\{}\)\?"  nextgroup=crontabHr   skipwhite
+syntax match  crontabHr       "\<[0-9\-\/\,\.]\{}\>\|\*\(/[0-9]\{}\)\?"  nextgroup=crontabDay  skipwhite contained
+syntax match  crontabDay      "\<[0-9\-\/\,\.]\{}\>\|\*\(/[0-9]\{}\)\?"  nextgroup=crontabMnth skipwhite contained
 
-syntax match  crontabMnth  "\s[-a-z0-9/,.*]\+"  nextgroup=crontabDow  skipwhite contained
+syntax match  crontabMnth  "\<[a-z0-9\-\/\,\.]\{}\>\|\*\(/[0-9]\{}\)\?"  nextgroup=crontabDow  skipwhite contained
 syntax keyword crontabMnth12 contained   jan feb mar apr may jun jul aug sep oct nov dec
 
-syntax match  crontabDow   "\s[-a-z0-9/,.*]\+"  nextgroup=crontabCmd  skipwhite contained
+syntax match  crontabDow   "\<[a-z0-9\-\/\,\.]\{}\>\|\*\(/[0-9]\{}\)\?"  nextgroup=crontabCmd  skipwhite contained
 syntax keyword crontabDow7   contained    sun mon tue wed thu fri sat
 
+syntax match crontabSpecial  "@\w\+" nextgroup=crontabCmd skipwhite
+syntax match crontabCmdSpecial contained /\\.\|%/
 "  syntax region crontabCmd  start="\<[a-z0-9\/\(]" end="$" nextgroup=crontabCmnt skipwhite contained contains=crontabCmnt keepend
 
 syntax region crontabCmd  start="\S" end="$" nextgroup=crontabCmnt skipwhite contained keepend
+syntax region crontabCmd  start="\S" end="$" nextgroup=crontabCmnt skipwhite contained contains=crontabCmnt,crontabCmdSpecial keepend
 syntax match  crontabCmnt "^\s*#.*"
 
 syntax match  crontabNick  "^\s*@\(reboot\|yearly\|annually\|monthly\|weekly\|daily\|midnight\|hourly\)\>" nextgroup=crontabCmd skipwhite
 
 syntax match  crontabVar  "^\s*\k\w*\s*="me=e-1
 
+syntax match crontabVar /^[A-Za-z][A-Za-z0-9\-\_]*/ nextgroup=crontabVarEq skipwhite
+syntax match crontabVarEq contained /=/ nextgroup=CrontabVarValQ,CrontabVarVal skipwhite
+syntax match crontabVarValQ contained /\(["']\).*\1/ skipwhite
+syntax match crontabVarVal contained /["']\@!\S\+/ skipwhite
+
 " Define the default highlighting.
 " For version 5.7 and earlier: only when not done already
 " For version 5.8 and later: only when an item doesn't have highlighting yet
@@ -47,6 +55,7 @@
     command -nargs=+ HiLink hi def link <args>
   endif
 
+  HiLink crontabSpecial         PreProc
   HiLink crontabMin		Number
   HiLink crontabHr		PreProc
   HiLink crontabDay		Type
@@ -66,6 +75,12 @@
 
 " comment out next line for to suppress unix commands coloring.
   HiLink crontabCmd		Type
+  HiLink crontabCmdSpecial      Special
+
+  HiLink crontabVar		Identifier
+  HiLink crontabVarEq		Special
+  HiLink crontabVarVal		Constant
+  HiLink crontabVarValQ		String
 
   HiLink crontabCmnt		Comment
 
